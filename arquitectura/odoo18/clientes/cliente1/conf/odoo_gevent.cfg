[options]
; ============================================
; CONFIGURACIÓN ESPECÍFICA PARA SERVICIO GEVENT
; ============================================

; Base de datos
addons_path = ../odoo18/odoo/addons,../odoo18/clientes/cliente1/extra-addons/enterprise,../odoo18/clientes/cliente1/extra-addons/oca,../odoo18/clientes/cliente1/extra-addons/extra
db_host = 172.19.0.4
db_port = 5432
db_user = odoo18
db_password = odoo
db_name = dbcliente1_18
db_sslmode = prefer

; ============================================
; CONFIGURACIÓN WEBSOCKET/LONGPOLLING
; ============================================
http_interface = 0.0.0.0
longpolling_port = 8072
gevent_port = 8072

; Módulos esenciales
server_wide_modules = base,web,bus

; ============================================
; CONFIGURACIÓN DE PERFORMANCE PARA GEVENT
; ============================================
workers = 0
max_cron_threads = 1

; Optimizaciones específicas para WebSocket
websocket_keep_alive_timeout = 3600
websocket_rate_limit_burst = 30
websocket_rate_limit_delay = 0.05

http_keep_alive_timeout = 3600

; ============================================
; LÍMITES ESPECÍFICOS PARA GEVENT
; ============================================
limit_memory_hard = 1073741824
limit_memory_soft = 805306368
limit_request = 16384
limit_time_cpu = 600
limit_time_real = 1200

; ============================================
; LOGS ESPECÍFICOS PARA WEBSOCKET - CORREGIDO
; ============================================
logfile = ../odoo18/clientes/cliente1/log/odoo_gevent.log
log_level = info
log_db = False
log_db_level = warning

; ✅ SOLO UNA LÍNEA log_handler - combinado
log_handler = :INFO,odoo.service.server:DEBUG,odoo.addons.bus:DEBUG,odoo.http:DEBUG,gevent:INFO

; ============================================
; CONFIGURACIÓN DE SEGURIDAD
; ============================================
proxy_mode = True
web.base.url = https://jumpjibe.com